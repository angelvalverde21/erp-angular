@if(loading){
<app-loading></app-loading>
}@else{
<div class="card">

    <div class="card-header bg-primary text-white py-3">
        Top Ventas Ultimos 3 Meses
    </div>

    <div class="card-body">

        <div class="table-responsive">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <td scope="col">Nombre</td>
                        <td class="text-center">Talla</td>
                        <td class="text-center">Total Vendidos</td>
                        <td class="text-center">Monto Referencial</td>
                    </tr>
                </thead>
                <tbody>
                    @for (product of products; track $index) {
                    <tr>
                        <th scope="row">{{ product.title }}</th>
                        <td class="text-center">{{ product.variant }}</td>
                        <td class="text-center">{{ product.quantity }}</td>
                        <td class="text-center">{{ product.total_sales | currency:'PEN':'symbol':'1.2-2':'es-PE' }}</td>
                    </tr>
                    }

                    <!-- Fila de total -->
                    <tr class="fw-bold">
                        <td colspan="3" class="text-end">Total</td>
                        <td class="text-center">
                            {{ totalSales | currency:'PEN':'symbol':'1.2-2':'es-PE' }}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>

</div>

}